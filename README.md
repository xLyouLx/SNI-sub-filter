# SNI-sub-filter 2026

Фильтрует тысячи vless/vmess/trojan-ссылок по SNI/host и оставляет только те, чей SNI попадает в твой whitelist.

Работает быстро даже на 100–300 тысяч ключей.

![Пример вывода скрипта]([https://github.com/xLyouLx/SNI-sub-filter/blob/main/image.png))

## Что делает скрипт

1. Берёт **все .txt файлы** из папки `sub/`
2. Вытаскивает из них ссылки вида  
   `vmess://…`  
   `vless://…`  
   `trojan://…`  
   (даже если они склеены в одну строку через пробелы/кавычки/переносы)
3. Из каждой ссылки достаёт параметр SNI / host / servername / peer (или reality host)
4. Сравнивает с доменами из файла **whitelist.txt**
5. Если SNI совпадает или является поддоменом → ключ пишется в **subWhitelist.txt** (с дедупликацией)
6. Всё остальное (включая ключи без SNI) → в **subNo.txt**
7. Старые версии subWhitelist.txt и subNo.txt сохраняются с датой в папку `backups/`
8. В конце выводит красивый цветной отчёт с топами accepted / rejected доменов
